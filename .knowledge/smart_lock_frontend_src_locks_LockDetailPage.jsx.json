{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines the LockDetailPage component, a React frontend module that displays details for a specific smart lock, handles lock/unlock actions, manages access permissions, and shows recent events.", "external_files": ["../shared/api", "react", "react-icons/fa", "react-router-dom"], "external_methods": ["apiFetch"], "published": ["LockDetailPage"], "classes": [], "methods": [{"name": "fetchAll", "description": "Fetches lock details and recent events from the API."}, {"name": "handleToggle", "description": "Toggles the lock state between locked and unlocked."}, {"name": "handleAddAccess", "description": "Adds a user to the lock's access list."}, {"name": "handleRemoveAccess", "description": "Removes a user from the lock's access list."}], "calls": ["apiFetch", "setLock", "setAccessList", "setEvents", "setErr", "setLoading", "setNewUser", "setInterval", "clearInterval", "fetchAll"], "search-terms": ["React", "LockDetailPage", "smart lock", "lock/unlock control", "access permissions", "recent events"], "state": 2, "file_id": 20, "knowledge_revision": 42, "git_revision": "", "ctags": [{"_type": "tag", "name": "LockDetailPage", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^const LockDetailPage = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "addingUser", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^            disabled={addingUser}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^      const data = await apiFetch(`locks\\/${lockId}\\/`);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^            onChange={e => setNewUser(e.target.value)}$/", "language": "JavaScript", "kind": "property", "scope": "onChange", "scopeKind": "class"}, {"_type": "tag", "name": "evs", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^      const evs = await apiFetch(`locks\\/${lockId}\\/events\\/`);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fetchAll", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^  const fetchAll = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleAddAccess", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^  const handleAddAccess = async (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleRemoveAccess", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^  const handleRemoveAccess = async (userToRemove) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleToggle", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^  const handleToggle = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newUser", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^            value={newUser}$/", "language": "JavaScript", "kind": "field", "scope": "required", "scopeKind": "class"}, {"_type": "tag", "name": "onChange", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^            onChange={e => setNewUser(e.target.value)}$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "setAccessList", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^  const [accessList, setAccessList] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setAddingUser", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^  const [addingUser, setAddingUser] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setErr", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^  const [err, setErr] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setEvents", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^  const [events, setEvents] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setLoading", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^  const [loading, setLoading] = useState(true);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setLock", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^  const [lock, setLock] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setNewUser", "path": "/home/kavia/workspace/code-generation/smart-lock-management-system-142498-142518/smart_lock_frontend/src/locks/LockDetailPage.jsx", "pattern": "/^  const [newUser, setNewUser] = useState('');$/", "language": "JavaScript", "kind": "constant"}], "hash": "a29a7f58f6a96384f9e48c9caf651491", "format-version": 4, "code-base-name": "smart_lock_frontend", "filename": "smart_lock_frontend/src/locks/LockDetailPage.jsx", "fields": [{"name": "disabled={addingUser}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={e => setNewUser(e.target.value)}", "scope": "onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "value={newUser}", "scope": "required", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"42": ""}]}